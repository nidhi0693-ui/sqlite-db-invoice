{"version":3,"sources":["webpack:///./src/app/products/update-product/update-product.module.ts","webpack:///./src/app/products/update-product/update-product.page.html","webpack:///./src/app/products/update-product/update-product.page.scss","webpack:///./src/app/products/update-product/update-product.page.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAyC;AACM;AACmB;AACX;AAEV;AAEa;AAE1D,eAAe;AACmD;AACT;AAEzD,IAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,sEAAiB;KAC7B;CACF,CAAC;AAcF;IAAA;IAAsC,CAAC;IAA1B,uBAAuB;QAZnC,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,4DAAY;gBACZ,0DAAW;gBACX,0DAAW;gBACX,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;gBAC7B,kEAAmB;gBACnB,+EAAkB;gBAClB,sEAAc;aACf;YACD,YAAY,EAAE,CAAC,sEAAiB,CAAC;SAClC,CAAC;OACW,uBAAuB,CAAG;IAAD,8BAAC;CAAA;AAAH;;;;;;;;;;;;AChCpC,wyBAAwyB,oBAAoB,geAAge,oBAAoB,odAAod,oBAAoB,wP;;;;;;;;;;;ACAxxD,wBAAwB,kBAAkB,2BAA2B,EAAE,iBAAiB,gBAAgB,EAAE,gBAAgB,eAAe,mBAAmB,uBAAuB,mBAAmB,iBAAiB,EAAE,+CAA+C,2xB;;;;;;;;;;;;;;;;;;;;;ACAtN;AACmC;AAC5B;AACR;AACoC;AAOrF;IAuBE,2BACU,GAA4B,EAC5B,OAAe,EACf,MAAsB,EACtB,GAAoB,EACpB,GAAgB;QAL1B,iBAaC;QAZS,QAAG,GAAH,GAAG,CAAyB;QAC5B,YAAO,GAAP,OAAO,CAAQ;QACf,WAAM,GAAN,MAAM,CAAgB;QACtB,QAAG,GAAH,GAAG,CAAiB;QACpB,QAAG,GAAH,GAAG,CAAa;QA1BlB,kBAAa,GAAG,IAAI;QAG5B,6BAAwB,GAAG;YACzB,MAAM,EAAE;gBACN,EAAE,IAAI,EAAE,UAAU,EAAE,OAAO,EAAE,kBAAkB,EAAE;gBACjD,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,2CAA2C,EAAE;gBACzE,EAAE,IAAI,EAAE,WAAW,EAAE,OAAO,EAAE,oBAAoB,EAAE;aACrD;YACD,OAAO,EAAE;gBACP,EAAE,IAAI,EAAE,UAAU,EAAE,OAAO,EAAE,mBAAmB,EAAE;gBAClD,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,2BAA2B,EAAE;gBACzD,EAAE,IAAI,EAAE,WAAW,EAAE,OAAO,EAAE,wBAAwB,EAAE;aACzD;YACD,KAAK,EAAE;gBACL,EAAE,IAAI,EAAE,UAAU,EAAE,OAAO,EAAE,oCAAoC,EAAE;aAGpE;SACF;QASC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,SAAS,CAAC,gBAAM;YACtC,IAAI,KAAI,CAAC,OAAO,CAAC,oBAAoB,EAAE,CAAC,MAAM,CAAC,KAAK,EAAE;gBACpD,KAAI,CAAC,aAAa,GAAG,KAAI,CAAC,OAAO,CAAC,oBAAoB,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC;gBAC3E,OAAO,CAAC,GAAG,CAAC,uDAAuD,EAAE,KAAI,CAAC,aAAa,CAAC;aACzF;QACH,CAAC,CAAC;IACJ,CAAC;IAED,oCAAQ,GAAR;QACE,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC;YACtC,IAAI,EAAE,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE,yDAAU,CAAC,OAAO,CAAC;oBACjD,yDAAU,CAAC,QAAQ;oBACnB,yDAAU,CAAC,OAAO,CAAC,uDAAuD,CAAC;oBAC3E,yDAAU,CAAC,SAAS,CAAC,CAAC,CAAC;iBACxB,CAAC,CAAC;YACH,KAAK,EAAE,CAAC,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,yDAAU,CAAC,OAAO,CAAC;oBACnD,yDAAU,CAAC,QAAQ;oBACnB,yDAAU,CAAC,OAAO,CAAC,0DAA0D,CAAC;oBAC9E,yDAAU,CAAC,SAAS,CAAC,CAAC,CAAC;iBACxB,CAAC,CAAC;YACH,GAAG,EAAE,CAAC,IAAI,CAAC,aAAa,CAAC,GAAG,EAAE,yDAAU,CAAC,OAAO,CAAC;oBAC/C,yDAAU,CAAC,QAAQ;oBACnB,kDAAkD;oBAClD,IAAI,CAAC,iBAAiB;oBACtB,yDAAU,CAAC,SAAS,CAAC,CAAC,CAAC;iBACxB,CAAC,CAAC;SACJ,CAAC;IACJ,CAAC;IAED,6BAA6B;IACvB,2CAAe,GAArB;;;;;;;6BACM,IAAI,CAAC,iBAAiB,CAAC,KAAK,EAA5B,wBAA4B;wBAC9B,OAAO,CAAC,GAAG,CAAC,8BAA8B,EAAE,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC;wBAErE,QAAQ,GAAG;4BACb,IAAI,EAAE,IAAI,CAAC,aAAa,CAAC,EAAE;4BAC3B,MAAM,EAAE,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,IAAI;4BACzC,OAAO,EAAE,UAAU,CAAC,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,KAAK,CAAC;4BACvD,KAAK,EAAE,UAAU,CAAC,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,GAAG,CAAC;yBACpD;wBAED,OAAO,CAAC,GAAG,CAAC,4BAA4B,EAAE,QAAQ,CAAC;wBAEnD,qBAAM,IAAI,CAAC,GAAG,CAAC,iBAAiB,CAAC,QAAQ,CAAC;iCACvC,IAAI,CAAC;gCACJ,KAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,WAAW,CAAC,CAAC;gCACpC,KAAI,CAAC,GAAG,CAAC,YAAY,EAAE;qCACpB,IAAI,CAAC,UAAC,IAAI,IAAK,cAAO,CAAC,GAAG,CAAC,kBAAkB,EAAE,IAAI,CAAC,EAArC,CAAqC,CAAC;4BAC1D,CAAC,CAAC;;wBALJ,SAKI;;;;;;KAGP;IAED,0EAA0E;IAC1E,6CAAiB,GAAjB,UAAkB,OAAwB;QACxC,IAAI,OAAO,CAAC,KAAK,KAAK,SAAS,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,OAAO,CAAC,KAAK,GAAG,CAAC,IAAI,OAAO,CAAC,KAAK,GAAG,GAAG,CAAC,EAAE;YACnG,OAAO,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;SAC/B;QACD,OAAO,IAAI,CAAC;IACd,CAAC;IAzFU,iBAAiB;QAL7B,+DAAS,CAAC;YACT,QAAQ,EAAE,oBAAoB;YAC9B,6HAAyC;;SAE1C,CAAC;+EAyBe,kGAAuB;YACnB,sDAAM;YACP,8DAAc;YACjB,8DAAe;YACf,0DAAW;OA5Bf,iBAAiB,CA2F7B;IAAD,wBAAC;CAAA;AA3F6B","file":"products-update-product-update-product-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { UpdateProductPage } from './update-product.page';\n\n// For Material\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatInputModule } from '@angular/material/input';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: UpdateProductPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    ReactiveFormsModule,\n    MatFormFieldModule, \n    MatInputModule\n  ],\n  declarations: [UpdateProductPage]\n})\nexport class UpdateProductPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar color=\\\"secondary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button mode=\\\"md\\\" defaultHref=\\\"products\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Update Product</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n  <form [formGroup]=\\\"updateProductForm\\\" (ngSubmit)=\\\"onUpdateProduct()\\\">\\n    \\n    <mat-form-field class=\\\"full-width\\\">\\n        <input matInput type=\\\"text\\\" placeholder=\\\"Product Name\\\" formControlName=\\\"name\\\" required>\\n        <mat-error *ngFor=\\\"let validation of form_validation_messages.name\\\">\\n          <mat-error class=\\\"error-message\\\" *ngIf=\\\"updateProductForm.get('name').hasError(validation.type) && (updateProductForm.get('name').dirty || updateProductForm.get('name').touched)\\\">{{validation.message}}</mat-error>\\n        </mat-error>\\n    </mat-form-field>\\n\\n    <mat-form-field class=\\\"full-width\\\">\\n        <input matInput type=\\\"text\\\" placeholder=\\\"Price\\\" formControlName=\\\"price\\\" required>\\n        <mat-error *ngFor=\\\"let validation of form_validation_messages.price\\\">\\n          <mat-error class=\\\"error-message\\\" *ngIf=\\\"updateProductForm.get('price').hasError(validation.type) && (updateProductForm.get('price').dirty || updateProductForm.get('price').touched)\\\">{{validation.message}}</mat-error>\\n        </mat-error>\\n    </mat-form-field>\\n\\n    <mat-form-field class=\\\"full-width\\\">\\n        <input matInput type=\\\"text\\\" placeholder=\\\"Tax\\\" formControlName=\\\"tax\\\" required>\\n        <mat-error *ngFor=\\\"let validation of form_validation_messages.tax\\\">\\n          <mat-error class=\\\"error-message\\\" *ngIf=\\\"updateProductForm.get('tax').hasError(validation.type) && (updateProductForm.get('tax').dirty || updateProductForm.get('tax').touched)\\\">{{validation.message}}</mat-error>\\n        </mat-error>\\n    </mat-form-field>\\n    \\n    <ion-button color=\\\"secondary\\\" margin-top expand=\\\"block\\\" type=\\\"submit\\\" [disabled]=\\\"updateProductForm.invalid\\\">Update Product Info</ion-button>\\n  </form>\\n</ion-content>\\n\"","module.exports = \"form {\\n  display: flex;\\n  flex-direction: column; }\\n\\n.full-width {\\n  width: 100%; }\\n\\n.error-msg {\\n  color: red;\\n  display: block;\\n  position: absolute;\\n  font-size: 75%;\\n  bottom: -2em; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9kaGlyZW5kcmEvRGVza3RvcC9ERVYvdW52aXJlZC9zcWxpdGUtZGItaW52b2ljZS9zcmMvYXBwL3Byb2R1Y3RzL3VwZGF0ZS1wcm9kdWN0L3VwZGF0ZS1wcm9kdWN0LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGFBQWE7RUFDYixzQkFBc0IsRUFBQTs7QUFHMUI7RUFDSSxXQUFXLEVBQUE7O0FBR2Y7RUFDSSxVQUFVO0VBQ1YsY0FBYztFQUNkLGtCQUFrQjtFQUNsQixjQUFjO0VBQ2QsWUFBWSxFQUFBIiwiZmlsZSI6InNyYy9hcHAvcHJvZHVjdHMvdXBkYXRlLXByb2R1Y3QvdXBkYXRlLXByb2R1Y3QucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiZm9ybSB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xufVxuXG4uZnVsbC13aWR0aCB7XG4gICAgd2lkdGg6IDEwMCU7XG59XG5cbi5lcnJvci1tc2cge1xuICAgIGNvbG9yOiByZWQ7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIGZvbnQtc2l6ZTogNzUlO1xuICAgIGJvdHRvbTogLTJlbTtcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport { DatabaseProviderService } from 'src/app/services/database-provider.service';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { ToastController } from '@ionic/angular';\nimport { FormBuilder, FormGroup, Validators, AbstractControl } from '@angular/forms';\n\n@Component({\n  selector: 'app-update-product',\n  templateUrl: './update-product.page.html',\n  styleUrls: ['./update-product.page.scss'],\n})\nexport class UpdateProductPage implements OnInit {\n\n  private _recievedData = null\n  updateProductForm: FormGroup\n\n  form_validation_messages = {\n    'name': [\n      { type: 'required', message: 'Name is required' },\n      { type: 'pattern', message: 'Only alphabet allowed. Minimum 3 letters.' },\n      { type: 'minlength', message: 'Minimum 3 letters.' }\n    ],\n    'price': [\n      { type: 'required', message: 'Price is required' },\n      { type: 'pattern', message: 'Only numbers are allowed.' },\n      { type: 'minlength', message: 'Price cannot be empty.' }\n    ],\n    'tax': [ // TODO: Valid values are 0 <= Tax <= 100\n      { type: 'required', message: 'Tax is required (0 to 100 allowed)' },\n      // { type: 'pattern', message: 'Only numbers are allowed.' },\n      // { type: 'minlength', message: 'Tax cannot be empty.' }\n    ]\n  }\n\n  constructor(\n    private _DB: DatabaseProviderService,\n    private _router: Router,\n    private _route: ActivatedRoute,\n    private _TC: ToastController,\n    private _FB: FormBuilder,\n  ) {\n    this._route.queryParams.subscribe(params => {\n      if (this._router.getCurrentNavigation().extras.state) {\n        this._recievedData = this._router.getCurrentNavigation().extras.state.data;\n        console.log(\"2. Nav enters with this data to Update Product Info: \", this._recievedData)\n      }\n    })\n  }\n\n  ngOnInit() {\n    this.updateProductForm = this._FB.group({\n      name: [this._recievedData.name, Validators.compose([\n        Validators.required,\n        Validators.pattern('^([a-zA-Z]+([a-zA-Z]+)*)(\\s([a-zA-Z]+([a-zA-Z]+)*))*$'),\n        Validators.minLength(3)\n      ])],\n      price: [this._recievedData.price, Validators.compose([\n        Validators.required,\n        Validators.pattern('^([0-9]*[1-9][0-9]*(\\.[0-9]+)?|[0]+\\.[0-9]*[1-9][0-9]*)$'),\n        Validators.minLength(1)\n      ])],\n      tax: [this._recievedData.tax, Validators.compose([\n        Validators.required,\n        // Validators.pattern('^\\d{1,2}((,|.)\\d{1,3})?$'),\n        this.taxRangeValidator,\n        Validators.minLength(1)\n      ])]\n    })\n  }\n\n  // Update Product Information\n  async onUpdateProduct() {\n    if (this.updateProductForm.valid) {\n      console.log(\"Nav updated with this data: \", this.updateProductForm.value)\n\n      var formData = {\n        'id': this._recievedData.id,\n        'name': this.updateProductForm.value.name,\n        'price': parseFloat(this.updateProductForm.value.price),\n        'tax': parseFloat(this.updateProductForm.value.tax)\n      }\n\n      console.log(\"Nav exits with this data: \", formData)\n\n      await this._DB.updateProductInfo(formData)\n        .then(() => {\n          this._router.navigate(['/products'])\n          this._DB.exportAsJSON()\n            .then((data) => console.log('Exported in JSON', data))\n        })\n    }\n\n  }\n\n  // Custom Validators for numbers ranges from 0 to 100 including boundaries\n  taxRangeValidator(control: AbstractControl): { [key: string]: boolean } | null {\n    if (control.value !== undefined && (isNaN(control.value) || control.value < 0 || control.value > 100)) {\n        return { 'taxRange': true };\n    }\n    return null;\n  } \n\n}\n"],"sourceRoot":""}